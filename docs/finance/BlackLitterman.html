<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2018-09-13 Thu 18:06 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="viewport" content="width=device-width, initial-scale=1" />
<title></title>
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="weiwu" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="../styles/demo/css/demo.css"/>
<link href="https://fonts.proxy.ustclug.org/css?family=Roboto+Slab:400,700|Inconsolata:400,700" rel="stylesheet" type="text/css" />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "left",
        displayIndent: "5em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "left",
               TagIndent: ".8em"
             }
});
</script>
<script type="text/javascript"
        src="https://cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="content">
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgheadline21">1. Black litterman model step-by-step</a>
<ul>
<li><a href="#orgheadline1">1.1. Modern Portfolio Optimization</a></li>
<li><a href="#orgheadline2">1.2. Problem of mean-variance optimization</a></li>
<li><a href="#orgheadline4">1.3. Introduction</a>
<ul>
<li><a href="#orgheadline3">1.3.1. reverse optimization to mitigate this problem for unconstrainted solution</a></li>
</ul>
</li>
<li><a href="#orgheadline14">1.4. Black-Litterman model and the process of building the required inputs.</a>
<ul>
<li><a href="#orgheadline11">1.4.1. Black-Litterman model</a></li>
<li><a href="#orgheadline12">1.4.2. Inputs</a></li>
<li><a href="#orgheadline13">1.4.3. Steps:</a></li>
</ul>
</li>
<li><a href="#orgheadline17">1.5. Implied confidence framework for the views</a>
<ul>
<li><a href="#orgheadline15">1.5.1. Implied confidence levels</a></li>
<li><a href="#orgheadline16">1.5.2. An intuitive approach</a></li>
</ul>
</li>
<li><a href="#orgheadline18">1.6. Select asset classes</a></li>
<li><a href="#orgheadline19">1.7. Deployment on GS:</a></li>
<li><a href="#orgheadline20">1.8. Shortfall of BLM</a></li>
</ul>
</li>
</ul>
</div>
</div>
<p>
<a href="../CS/Python/py4fi/Optimization.html">PortfolioOptimizationJupyterProgramming</a>
</p>

<p>
<a href="../CS/Python/py4fi/PortfolioOptimization.html">PortfolioOptimizationReadMe</a>
</p>


<div id="outline-container-orgheadline21" class="outline-2">
<h2 id="orgheadline21"><span class="section-number-2">1</span> Black litterman model step-by-step</h2>
<div class="outline-text-2" id="text-1">
</div><div id="outline-container-orgheadline1" class="outline-3">
<h3 id="orgheadline1"><span class="section-number-3">1.1</span> Modern Portfolio Optimization</h3>
<div class="outline-text-3" id="text-1-1">
<p>
Markowitz mean-variance optimization:
\[max: \omega\mu - \omega\Sigma\omega'/2\]
</p>

<p>
Lagrange multiplier solution: \(\omega=(\lambda\Sigma)^{-1}\mu\)
</p>

<p>
Two most important elements: Expected return \(\mu\), Covariance matrix \(\Sigma\).
</p>
</div>
</div>

<div id="outline-container-orgheadline2" class="outline-3">
<h3 id="orgheadline2"><span class="section-number-3">1.2</span> Problem of mean-variance optimization</h3>
<div class="outline-text-3" id="text-1-2">
<ul class="org-ul">
<li>Extreme long or short positions</li>
</ul>
<p>
It could bring extreme long or short positions without constraint(excluding risk exposure constraint, weight constraint).
</p>

<ul class="org-ul">
<li>Heavy weight on a small number of assets</li>
</ul>
<p>
When subject to a long only constraint, portfolios will concentrate in a relatively small number of assets.
</p>

<ul class="org-ul">
<li>Importance of expected return</li>
</ul>
<p>
A small increase in the expected return of one of the portfolio's assets can force half of the assets from the portfolio.
</p>

<ul class="org-ul">
<li>Lack of investor views</li>
</ul>
<p>
Expected return estimate is based on the historical return performance.
</p>

<p>
If the political risk shows up, macro economy forecast changes, or the fund changes policy or manager, the corporate or the fund performance may change.
Investor views can't be integrated into the problem.
</p>
</div>
</div>

<div id="outline-container-orgheadline4" class="outline-3">
<h3 id="orgheadline4"><span class="section-number-3">1.3</span> Introduction</h3>
<div class="outline-text-3" id="text-1-3">
<p>
The Black-Litterman model uses a <b>Bayesian</b> approach to combine the subjective views of an investor regarding the expected returns of one or more assets with the market equilibrium vector of expected returns (the prior distribution) to form a new, mixed estimate of expected returns.
</p>

<p>
prior return distribution -&gt; posterior expected return estimated distribution.
</p>

<p>
Blackâ€“Litterman model is a mathematical model for portfolio allocation developed in 1990 at Goldman Sachs by Fischer Black and Robert Litterman, and published in 1992. It seeks to overcome problems that institutional investors have encountered in applying modern portfolio theory in practice, although the covariances of a few assets can be adequately estimated, <b>it is difficult to come up with reasonable estimates of expected returns</b>. The model starts with the equilibrium assumption that the asset allocation of a representative agent should be proportional to the market values of the available assets, and then modifies that to take into account the 'views' (i.e., the specific opinions about asset returns) of the investor in question to arrive at a bespoke asset allocation.
</p>

<p>
Blackâ€“Litterman overcame this problem by not requiring the user to input estimates of expected return; instead it assumes that the initial expected returns are whatever is required so that the equilibrium asset allocation is equal to what we observe in the markets. <b>The user is only required to state how his assumptions about expected returns differ from the market's and to state his degree of confidence in the alternative assumptions</b>. From this, the Blackâ€“Litterman method computes the desired (mean-variance efficient) asset allocation.
</p>

<p>
In general, when there are portfolio constraints - for example, when short sales are not allowed.
</p>
<ul class="org-ul">
<li>the easiest way to find the optimal portfolio is to use the Blackâ€“Litterman model to generate the expected returns for the assets,</li>
<li>and then use a mean-variance optimizer to solve the constrained optimization problem.</li>
</ul>
</div>

<div id="outline-container-orgheadline3" class="outline-4">
<h4 id="orgheadline3"><span class="section-number-4">1.3.1</span> reverse optimization to mitigate this problem for unconstrainted solution</h4>
<div class="outline-text-4" id="text-1-3-1">
<p>
\[\Pi = \lambda\Sigma\omega_{mkt}\]
where
</p>

<p>
\(\Pi\) is the implied excess equilibrium return vector(Nx1 vector);
</p>

<p>
\(\lambda\) is the risk aversion coefficient, \(\lambda=\frac{E(r)-r_f}{\sigma^2}\);
</p>

<p>
\(\Sigma\) is the covariance matrix of excess returns(NxN matrix);
</p>

<p>
\(\omega_{mkt}\) is the market capitalization asset weight(Nx1 vector).
</p>

<p>
Finally,
\[\omega^* = (\lambda\Sigma)^{-1}\Pi\]
</p>
</div>
</div>
</div>
<div id="outline-container-orgheadline14" class="outline-3">
<h3 id="orgheadline14"><span class="section-number-3">1.4</span> Black-Litterman model and the process of building the required inputs.</h3>
<div class="outline-text-3" id="text-1-4">
</div><div id="outline-container-orgheadline11" class="outline-4">
<h4 id="orgheadline11"><span class="section-number-4">1.4.1</span> Black-Litterman model</h4>
<div class="outline-text-4" id="text-1-4-1">
</div><ol class="org-ol"><li><a id="orgheadline5"></a>Posterior distribution of expected return combining Prior distribution of equilibrium excess return and investor views.<br  /><div class="outline-text-5" id="text-1-4-1-1">
<p>
One of the core assumptions of the model is that the security returns are normally distributed.
</p>

<ol class="org-ol">
<li>Prior equilibrium excess return distribution</li>
</ol>
<p>
Because of this reason during the implementation of model the prior and conditional probabilities are considered to be normally distributed.
\[N~(\Pi, \tau\Sigma)\]
</p>

<ol class="org-ol">
<li>View distribution</li>
</ol>
<p>
\[N~(Q, \Omega)\]
</p>

<ol class="org-ol">
<li>New combined return distribution(Posterior distribution)</li>
</ol>
<p>
Now as the inputs in the Bayesâ€™ rule are normally distributed so will be the posterior probability.
\[N~(E[R], [(\tau\Sigma)^{-1}+(P'\Omega^{-1}P)]^{-1})\]
</p>

<p>
One can assume different distributions for each of these probabilities and hence create different variants of Black Litterman model.
</p>
</div></li>

<li><a id="orgheadline6"></a>Formula<br  /><div class="outline-text-5" id="text-1-4-1-2">
<p>
\[E(R)=[(\tau\Sigma)^{-1}+P'\Omega^{-1}P]^{-1}[(\tau\Sigma)^{-1}\Pi+P'\Omega^{-1}P]\]
where
</p>

<p>
\(E(R)\)
is the new(posterior) combined return vector(Nx1);
</p>

<p>
\(\tau\)
is a scalar;
</p>

<p>
\(\Sigma\)
is the covariance matrix of excess returns(NxN matrix);
</p>

<p>
\(P\)
is a matrix that identifies the assets involved in the views(KxN);
</p>

<p>
\(\Omega\)
The level of confidence, expressed as the standard deviation around the expected return of the view. The weaker confidence that is set to a view, the less the view is to affect the portfolio weights.
</p>

<p>
Is a diagonal covariance matrix of error terms from the expressed views representing the uncertainty in each view(KxK);å¯¹ç¬¬ i ä¸ªè§‚ç‚¹è®¾ç½®ä¿¡å¿ƒæ°´å¹³ LCiï¼Œæ ¹æ®ä¿¡å¿ƒæ°´å¹³å’Œæ ‡å‡†åˆ»åº¦å› å­ CF æ¥æ„å»ºè§‚ç‚¹è¯¯å·®çŸ©é˜µâ„¦.
</p>

<p>
A view has the form \(Q+\epsilon\):
\[\begin{bmatrix}
w1 & 0 & 0\\
0 & ... & 0\\
0 & 0 & w3
\end{bmatrix}\]
</p>

<p>
\(\Pi\)
is the implied equilibrium return vector(Nx1); Equilibrium is an idealized state in which supply equals demand.
\[\begin{cases}
Litterman & \text {percentage} \\
Satchell and Scowcroft & \text{ equal weight } \\
Thomas Idzorek & \text{ market capital weight }
\end{cases}\]
The relative weighting of each individual asset is proportional to the assetâ€™s market capitalization divided by the total market capitalization of either the outperforming or underperforming assets of that particular view.
</p>

<p>
It has three factors: 1. the views; 2. the level of condence assigned to each view; 3.the weight-on-views.
</p>

<p>
The net long positions less the net short positions equal 0.
</p>

<p>
Thus one can calculate the variance of each individual view portfolio \(p_k\Sigma p'_k\).
</p>

<p>
\(Q\)
is the view vector(Kx1);
</p>
<ol class="org-ol">
<li>Idzorek method.</li>
</ol>
<p>
\[Q=\begin{bmatrix}
CF/LC_1 &0  &0 \\0
 &...  &0 \\0
 &0  &CF/LC_k
\end{bmatrix}\], where \[CF=P^*\Sigma P^{*t}/(100/50), LC_k=\text {level of confidence of kth view}, P^* \text {1xn vector, sum of each column from P}\]
</p>
</div></li>

<li><a id="orgheadline10"></a>Investor views<br  /><div class="outline-text-5" id="text-1-4-1-3">
<p>
Absolute or relative manager views regarding the expected return of some of the assets in the portfolio.
</p>

<ul class="org-ul">
<li>absolute view:</li>
</ul>
<p>
Asset A will have an absolute excess return of x%;
</p>

<ul class="org-ul">
<li>relative view 1:</li>
</ul>
<p>
Asset A will outperform/underperform asset B by xx basis point;
</p>

<ul class="org-ul">
<li>relative view 2:</li>
</ul>
<p>
Assets A and B will outperform/underperform assets C and D by xx basis points; Equivallently a mini long/short portfolio including A and B vesus a mini short/long portfolio.
</p>
</div>
<ol class="org-ol"><li><a id="orgheadline9"></a>Assessing views<br  /><ol class="org-ol"><li><a id="orgheadline7"></a>Objective<br  /><div class="outline-text-7" id="text-1-4-1-3-1-1">
<p>
é€‰å–ä¸­å€ºä¸€æœˆæœŸå›½å€ºåˆ°æœŸæ”¶ç›Šç‡ä½œä¸ºæ— é£é™©åˆ©ç‡è®¡ç®—è¶…é¢æ”¶ç›Šç‡ã€‚
æå–å½“æœˆå¸‚åœºä¸Šå„å®¶è¯„çº§æœºæ„å¯¹è¡Œä¸šå†…å…¬å¸è¯„çº§çš„ä¸Šä¸‹è°ƒä¹‹å·®ï¼Œå¹¶åšè·¨åº¦ä¸º 1 å¹´çš„ç§»åŠ¨å¹³å‡ï¼Œ
å¦‚æœæŸè¡Œä¸šå½“æœˆçš„æ•°å€¼å¤§äºå‰ä¸€ä¸ªæœˆçš„æ•°å€¼ï¼Œåˆ™åœ¨å½“æœˆçš„æ¨¡å‹è®¡ç®—ä¸­ï¼Œ è®¤ä¸ºè¯¥å¸‚åœºå¯¹è¡Œä¸šæœ‰
ç§¯æçš„è§‚ç‚¹ï¼Œ å³p = 1ï¼Œ åä¹‹p = âˆ’1ã€‚
æå–å½“æœˆå¸‚åœºä¸Šå„å®¶è¯„çº§æœºæ„å¯¹è¡Œä¸šå†…å…¬å¸çš„è¯„çº§æ•°é‡ï¼Œå†ä¸å½“æ—¶è¡Œä¸šå†…æ€»çš„å…¬å¸æ•°é‡åšå•†ï¼Œ
å³ï¼Œ è®¡ç®—è§‚ç‚¹çš„è¦†ç›–ç‡ä½œä¸ºåˆå§‹çš„ç½®ä¿¡åº¦ã€‚ è¿™æ˜¯åŸºäºè¿™æ ·çš„å‡è®¾ï¼š è¡Œä¸šå†…æœ‰è¶Šå¤šçš„å…¬å¸å—åˆ°
è¯„çº§æœºæ„å…³æ³¨ï¼Œé‚£ä¹ˆè¡Œä¸šçš„è¯„çº§å˜åŒ–ç»“æœå°±è¶Šå¯ä¿¡ã€‚
</p>

<p>
æå–å½“å¹´å¸‚åœºä¸Šå„å®¶è¯„çº§æœºæ„å¯¹è¡Œä¸šå†…å…¬å¸æ¯ä¸ªæœˆçš„ä¸€è‡´é¢„æµ‹å‡€èµ„äº§æ”¶ç›Šç‡ï¼Œ å¹¶åšç§»åŠ¨å¹³å‡ï¼Œ
å°†è¯¥è¡Œä¸šçš„å‡€èµ„äº§æ”¶ç›Šç‡çš„å˜åŒ–ç‡ä½œä¸ºè¯¥è¡Œä¸šçš„è§‚ç‚¹ç»“æœï¼Œå³ Qã€‚
åœ¨é…ç½®èµ„äº§æ—¶ï¼Œä¸ºé˜²æ­¢ BL æ¨¡å‹é…ç½®çš„æƒé‡å‡ºç°æç«¯é›†ä¸­äºæŸä¸€è¡Œä¸šï¼Œå¯¼è‡´é£é™©è¾ƒå¤§çš„æƒ…å†µï¼Œ
æˆ‘ä»¬è®¾å®šæ¯ä¸ªè¡Œä¸šæœ€ç»ˆåˆ†é…çš„æƒé‡ä¸å¾—ä½äº 1%ã€‚
</p>

<p>
åœ¨å®é™…è®¡ç®—ä¸­ï¼Œæˆ‘ä»¬å‘ç°è¶…é¢æ”¶ç›Šç‡çš„åæ–¹å·®çŸ©é˜µÎ£åœ¨æ¥è¿‘å¥‡å¼‚çš„æƒ…å†µä¸‹ï¼Œ å¾—å‡ºçš„æƒé‡å¯èƒ½
æ˜¯å¼‚å¸¸çš„ï¼Œå› æ­¤æˆ‘ä»¬é‡‡ç”¨ä¼ªé€†çŸ©é˜µæ¥ä»£æ›¿Î£çš„é€†çŸ©é˜µã€‚ åŒæ—¶ï¼Œ ä¸ºäº†é¿å…å†å²æ•°æ®å¯¹æˆ‘ä»¬çš„æ¨¡
å‹é€ æˆè¿‡å¤šçš„å™ªå£°å½±å“ï¼Œæˆ‘ä»¬åªé€‰å–å½“å‰æ—¶é—´ä¹‹å‰åŠå¹´çš„ç›¸å…³æ•°æ®æ¥è¿›è¡Œè®¡ç®—ã€‚
æ”¶é›†å¸‚åœºä¸Šå¯¹è¡Œä¸šå†…æ¯å®¶å…¬å¸çš„è¯„çº§è¿›è¡Œäº†è°ƒæ•´çš„è¯„çº§å…¬å¸æ•°é‡ï¼Œ ç”¨ä¸Šè°ƒå®¶æ•°å‡ä¸‹è°ƒå®¶æ•°å†
å–å¹³å‡ï¼Œå¾—åˆ°è¯¥è¡Œä¸šåœ¨å½“æœˆçš„è¯„çº§å‡€å˜åŒ–ã€‚æŠŠè¿™ä¸€æ ‡å‡†ä½œä¸ºè§‚ç‚¹çŸ©é˜µ P çš„æ„å»ºåŸºç¡€ï¼Œ æ˜¯ååˆ†
è‡ªç„¶å’Œç›´è§‚çš„ï¼Œ è¿™ä¸€æŒ‡æ ‡ä¹Ÿä»£è¡¨äº†å¸‚åœºä¸Šè¯„çº§æœºæ„å¯¹è¡Œä¸šå†…å…¬å¸æœªæ¥è¡¨ç°çš„ä¸€ç§é¢„æœŸï¼Œ å½“è¡Œ
ä¸šåœ¨æœªæ¥å±€éƒ¨ä¸è¢«çœ‹å¥½æ—¶ï¼Œå…¶è¯„çº§å‡€å˜åŒ–å¾ˆå¯èƒ½çŸ­æš‚ä¸ºè´Ÿï¼Œè€Œå½“è¯¥è¡Œä¸šåœ¨æœªæ¥è¢«çœ‹å¥½æ—¶ï¼Œå…¶
è¯„çº§å‡€å˜åŒ–åˆä¼šè½¬å˜ä¸ºæ­£ã€‚
ç»è¿‡æµ‹è¯•ï¼Œ æˆ‘ä»¬å‘ç°è¿™ä¸€æŒ‡æ ‡å­˜åœ¨æ­£è´Ÿæ€§æ³¢åŠ¨è¾ƒå¤§çš„é—®é¢˜ï¼Œåˆ†æåŸå› ï¼Œ æ˜¯å› ä¸ºè¯„çº§çš„å‡€å˜åŒ–
æ¯”è¾ƒæ•æ„Ÿï¼Œ ç›¸é‚»ä¸¤ä¸ªæœˆä¸­ï¼Œå¦‚æœæœ‰æ•°å®¶å…¬å¸æ›´æ”¹è¯„çº§ï¼Œå³ä½¿å¤§éƒ¨åˆ†å…¬å¸ä»ç„¶ç»´æŒåŸæ¥çš„è¯„çº§
ä¸å˜ï¼Œå‡€å˜åŒ–è¿˜æ˜¯ä¼šå‘ç”Ÿæ­£è´Ÿçš„è½¬å˜ã€‚ ä¸ºäº†ä¿ç•™æŒ‡æ ‡ç‰¹ç‚¹åŒæ—¶åˆä½¿å˜åŒ–è¿‡ç¨‹æ›´å¹³æ»‘ï¼Œæˆ‘ä»¬å¯¹
è¯„çº§çš„å‡€å˜åŒ–ä½œä¸ºæœŸä¸€å¹´çš„ç§»åŠ¨å¹³å‡ï¼Œ å†ç”¨ç§»åŠ¨å¹³å‡ä¹‹åçš„æŒ‡æ ‡å˜åŒ–ä½œä¸ºå¸‚åœºè§‚ç‚¹ï¼š å¦‚æœå½“
æœˆæŸè¡Œä¸šçš„ç§»åŠ¨å¹³å‡å€¼å¤§äºä¸Šæœˆç§»åŠ¨å¹³å‡å€¼ï¼Œåˆ™è®¤ä¸ºä¸‹æœˆè¡Œä¸šä¸è¢«å¸‚åœºæ‰€çœ‹å¥½ï¼› åä¹‹äº¦ç„¶ã€‚
</p>

<p>
ğ‘ƒğ‘›,ğ‘¡+1 = 1, è‹¥ğºğ‘Ÿğ‘ğ‘‘ğ‘’ğ‘›,ğ‘¡ âˆ’ ğºğ‘Ÿğ‘ğ‘‘ğ‘’ğ‘›,ğ‘¡âˆ’1 &gt; 0,
ğ‘ƒğ‘›,ğ‘¡+1 = âˆ’1, è‹¥ğºğ‘Ÿğ‘ğ‘‘ğ‘’ğ‘›,ğ‘¡ âˆ’ ğºğ‘Ÿğ‘ğ‘‘ğ‘’ğ‘›,ğ‘¡âˆ’1 &lt; 0
</p>

<p>
åŒæ—¶ï¼Œæˆ‘ä»¬å°†ä¸‡å¾—ä¸€è‡´é¢„æœŸæ•°æ®ä¸­çš„å‡€èµ„äº§æ”¶ç›Šç‡ä½œä¸ºæ¨¡å‹ä¸­ Q çŸ©é˜µçš„æ„å»ºåŸºç¡€ã€‚åœ¨åŸå§‹
æ¨¡å‹ä¸­ï¼Œ Q çŸ©é˜µåº”è¯¥ä¸ºæŠ•èµ„è€…å¯¹æœªæ¥èµ„äº§è¶…é¢æ”¶ç›Šç‡çš„é¢„æµ‹ï¼Œ åœ¨è¿™é‡Œï¼Œ æˆ‘ä»¬ç”¨å‡€èµ„äº§æ”¶ç›Šç‡
çš„å˜åŒ–ç‡æ¥ä»£æ›¿è¶…é¢æ”¶ç›Šç‡ã€‚ æˆ‘ä»¬è®¤ä¸ºï¼Œ ä¸€è‡´é¢„æœŸå‡€èµ„äº§çš„å˜åŒ–ç‡åœ¨ä¸€å®šç¨‹åº¦ä¸Šï¼Œåæ˜ äº†å¸‚
åœºå¯¹è¡Œä¸šåœ¨æœªæ¥ç›ˆåˆ©èƒ½åŠ›çš„ä¸€ç§æœŸæœ›ï¼Œè¿™ç§æœŸæœ›åœ¨åˆé€‚çš„æ—¶é—´ï¼Œèƒ½å¤Ÿåæ˜ åˆ°è‚¡ä»·æˆ–è¡Œä¸šæŒ‡æ•°
ä¸­ï¼Œä¸ºæˆ‘ä»¬çš„æƒé‡é…æ¯”æ–¹å‘å’Œç¨‹åº¦å¸¦æ¥å‚è€ƒä»·å€¼ã€‚
</p>

<p>
ğ‘„ğ‘›,ğ‘¡+1 = (ğ‘…ğ‘‚ğ¸ğ‘›,ğ‘¡ âˆ’ ğ‘…ğ‘‚ğ¸ğ‘›,ğ‘¡âˆ’1)â„ğ‘…ğ‘‚ğ¸ğ‘›,ğ‘¡âˆ’1
</p>
<ul class="org-ul">
<li>è´¢åŠ¡æŒ‡æ ‡</li>
</ul>
<p>
æˆ‘ä»¬è€ƒé‡äº†å…¶å®ƒä¸€äº›è´¢åŠ¡æŒ‡æ ‡ï¼Œå¦‚å‡€åˆ©æ¶¦å¢é•¿ç‡ã€ä¸»è¥ä¸šåŠ¡æ”¶å…¥å¢é•¿ç‡ã€å‡€èµ„äº§æ”¶ç›Šç‡ç­‰ï¼Œå°†å„æŒ‡æ ‡è¿›è¡Œå¯¹æ¯”åå‘ç°ï¼Œåœ¨æˆ‘å›½å¸‚åœºï¼Œå‡€åˆ©æ¶¦å¢é•¿ç‡å’Œä¸»è¥ä¸šåŠ¡æ”¶å…¥å¢é•¿ç‡ç­‰æŒ‡æ ‡éå¸¸ä¸ç¨³å®šã€æœ‰æ—¶å…·æœ‰å¥‡å¼‚å€¼ï¼Œè€Œå‡€èµ„äº§æ”¶ç›Šç‡è¾ƒä¸ºç¨³å®šï¼Œå› æ­¤æˆ‘ä»¬åœ¨æœ¬æ¬¡å®è¯ä¸­ä½¿ç”¨äº†å‡€èµ„äº§æ”¶ç›Šç‡ä½œä¸ºè§‚ç‚¹æ”¶ç›Šï¼Œè€ƒè™‘åˆ°æ•°æ®çš„æ—¶æ•ˆæ€§ï¼Œæˆ‘ä»¬é€‰ç”¨æœé˜³æ°¸ç»­æä¾›çš„ä¸»æµåˆ¸å•†ç ”ç©¶å‘˜å¯¹è¡Œä¸šçš„ä¸€è‡´é¢„æœŸå‡€èµ„äº§æ”¶ç›Šç‡(ROE)æ•°æ®ã€‚
</p>

<p>
ä½¿ç”¨ä¸Šå¹´åº•çš„ä¸€è‡´é¢„æœŸ ROE ä½œä¸ºè§‚ç‚¹æ”¶ç›Šï¼Œè®¾ç½® 20%ã€ 50%å’Œ 80%ä¸‰ä¸ªä¿¡å¿ƒæ°´å¹³ï¼Œ W<sub>mkt</sub> è¡¨ç¤ºæŒ‰æµé€šå¸‚å€¼æƒé‡é…ç½®çš„èµ„äº§ç»„åˆ.
</p>

<ul class="org-ul">
<li>é—´æ¥çš„è§‚ç‚¹</li>
</ul>
<p>
åœ¨ä¼ ç»Ÿçš„ B-L æ¨¡å‹ä¸­ï¼ŒæŠ•èµ„è€…ç»™å‡ºçš„ä¸»è§‚è§‚ç‚¹æ˜¯å¯¹èµ„äº§çš„é¢„æœŸæ”¶ç›Šï¼Œè€Œå¾ˆå¤šæ—¶å€™æŠ•èµ„è€…å¯èƒ½æ˜¯ä¸€äº›é—´æ¥çš„è§‚ç‚¹ï¼Œä¾‹å¦‚å¯¹ä¸€äº›æŒ‡æ ‡çš„è§‚ç‚¹ï¼ˆè‚¡æ¯ç‡ã€ EPSã€ ROE ç­‰ï¼‰ï¼Œè¿™äº›å› å­å¯èƒ½é©±åŠ¨è‚¡ä»·æ³¢åŠ¨ã€‚ Wing Cheung æå‡ºäº† ABL æ¨¡å‹ï¼ˆAugmented B-Læ¨¡å‹ï¼‰ï¼Œé¦–æ¬¡å°†å› å­æ¨¡å‹èå…¥åˆ°ä¼ ç»Ÿ B-L æ¨¡å‹çš„æ¡†æ¶ä¸­ï¼Œå¤§å¹…åº¦æ‹“å®½äº† B-L æ¨¡å‹çš„é€‚ç”¨é¢ã€‚
</p>
</div></li>
<li><a id="orgheadline8"></a>Subjective<br  /><div class="outline-text-7" id="text-1-4-1-3-1-2">
<ul class="org-ul">
<li>åˆ†æå¸ˆä¸»è§‚é¢„æœŸ</li>
</ul>
<p>
é‡‡ç”¨è¡Œä¸šã€ä¸ªè‚¡ä¸€è‡´é¢„æœŸï¼ˆ consensus dataï¼‰æ˜¯å¯¹çœ‹æ³•ï¼ˆ viewsï¼‰çš„ä¸€ä¸ªæœ‰æ•ˆæ„å»ºæ–¹å¼ã€‚ç”¨ä¸ªè‚¡é¢„æœŸè¯„çº§ç»¼åˆå¾—åˆ†çš„å¢é•¿é‡è¡¨ç¤ºä¸ªè‚¡é¢„æœŸæ”¶ç›Šç‡ï¼Œå…·ä½“å¤„ç†ç»†èŠ‚æ˜¯ï¼Œæ¯ä¸€ä¸ªè¯„åˆ†å¢é‡ï¼ˆå‡é‡ï¼‰ç›¸å½“äº5%é¢„æœŸæ”¶ç›Šï¼ˆæˆ–-5%é¢„æœŸæ”¶ç›Šï¼‰ã€‚
</p>
</div></li></ol></li></ol></li></ol>
</div>
<div id="outline-container-orgheadline12" class="outline-4">
<h4 id="orgheadline12"><span class="section-number-4">1.4.2</span> Inputs</h4>
<div class="outline-text-4" id="text-1-4-2">
<p>
Input:
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">w</td>
<td class="org-left">Equilibrium market capitalization weights for each asset.</td>
</tr>

<tr>
<td class="org-left">Î£</td>
<td class="org-left">Matrix of covariances between the assets. Usually computed from historical data.</td>
</tr>

<tr>
<td class="org-left">rf</td>
<td class="org-left">Risk free rate    é€‰å–ä¸­å€ºä¸€æœˆæœŸå›½å€ºåˆ°æœŸæ”¶ç›Šç‡ä½œä¸ºæ— é£é™©åˆ©ç‡è®¡ç®—è¶…é¢æ”¶ç›Šç‡</td>
</tr>

<tr>
<td class="org-left">Î´</td>
<td class="org-left">The risk aversion coeffficient of the market portfolio. This can be specified, or can be computed if the investor knows the market return and standard deviation of returns.</td>
</tr>

<tr>
<td class="org-left">Ï„</td>
<td class="org-left">A measure of the uncertainty of the prior estimate of the mean returns.   Scalar. Proportional to the relative weight given to the implied equilibrium return vector(\(\Pi\)).       Usually between 0.01~0.05.</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-orgheadline13" class="outline-4">
<h4 id="orgheadline13"><span class="section-number-4">1.4.3</span> Steps:</h4>
<div class="outline-text-4" id="text-1-4-3">
<ol class="org-ol">
<li>Î  = Î´Î£w</li>
</ol>
<p>
Calculate the equilibrium return using reverse optimization.
\[\Pi=\lambda\Sigma\omega_{mkt}\]
</p>

<p>
Calculate implied market equilibrium returns based on the given benchmark asset allocation weights.
</p>
<ol class="org-ol">
<li>Quantify their uncertainty in the prior by selecting a value for Ï„.</li>
</ol>
<p>
If the covariance matrix has been generated from historical data, then Ï„ = 1/n is a good place to start.
</p>
<ol class="org-ol">
<li>Formulates their views, specifying P, Î©, and Q.</li>
</ol>
<p>
Given k views and n assets, then P is a k Ã— n matrix where each row sums to 0 (relative view) or 1 (absolute view).
Q is a k Ã— 1 vector of the excess returns for each view.
Î© is a diagonal k Ã— k matrix of the variance of the estimated view mean about the unknown view mean. As a starting point, some authors call for the diagonal values of Î© to be set equal to pTÏ„Î£p (where p is the row from P for the specific view). This weights the views the same as the prior estimates.
è€ƒè™‘æœ‰Kä¸ªè§‚ç‚¹nä¸ªèµ„äº§çš„ä¾‹å­ï¼Œæ­¤æ—¶ï¼ŒPå°±æ˜¯k*nçŸ©é˜µï¼Œæ¯ä¸€è¡Œä»£è¡¨ä¸€ä¸ªè§‚ç‚¹ï¼ŒQä¸ºK*1çŸ©é˜µï¼Œå­˜æ”¾æ¯ä¸ªè§‚ç‚¹çš„è¶…é¢æ”¶ç›Šã€‚Î©æ˜¯k*kå¯¹è§’çŸ©é˜µï¼Œå¯¹è§’çº¿ä¸Šçš„æ¯ä¸€ä¸ªå…ƒç´ ä»£è¡¨è¯¥è§‚ç‚¹çš„æ–¹å·®ï¼Œä¸å¯¹è¯¥è§‚ç‚¹çš„ç½®ä¿¡ç¨‹åº¦æˆåæ¯”:
\[\Omega=(P\Sigma P^T)\tau\]
</p>

<p>
For example:
</p>

<div class="figure">
<p><img src="./images/expected_excess_return_vector.png" alt="expected_excess_return_vector.png" />
</p>
<p><span class="figure-number">Figure 1:</span> expected<sub>excess</sub><sub>return</sub><sub>vector</sub></p>
</div>

<p>
View 1: International Developed Equity will have an absolute excess return of 5.25% (Confidence of View = 25%).
</p>

<p>
View 2: International Bonds will outperform US Bonds by 25 basis points (Confidence of View = 50%).
</p>

<p>
View 3: US Large Growth and US Small Growth will outperform US Large Value and US Small Value by 2% (Confidence of View = 65%).
</p>

<p>
\[P=\begin{bmatrix}
0 &0  &0  &0  &0  &0  &1  &0 \\
-1 &1  &0  &0  &0  &0  &0  &0 \\
0 &0  &.5  &-.5  &.5  &-.5  &0  &0
\end{bmatrix}\]
</p>

<p>
\[Q=\begin{bmatrix}
 5.25 \\
 0.25 \\
 2
\end{bmatrix}\]
</p>

<ol class="org-ol">
<li>Compute the posterior estimate of the returns using the following equation.</li>
</ol>
<p>
\[\hat\Pi = \Pi + \tau\Sigma P'(P\tau\Sigma P')^{-1}(Q-P\Pi)\]
</p>
<ol class="org-ol">
<li>Compute the posterior variance of the estimated mean about the unknown mean using the following equation.</li>
</ol>
<p>
\[M=\tau \Sigma - \tau \Sigma P'[P\tau\Sigma P'+\Omega]^{-1}P\tau \Sigma\]
</p>
<ol class="org-ol">
<li>Get the covariance of retujrns about the estimated mean.</li>
</ol>
<p>
Assuming the uncertainty in the estimates is independent of the known covariance of returns about the unknown mean.
\[\Sigma_p = \Sigma + M\]
</p>
<ol class="org-ol">
<li>Compute the portfolio weights for the optimal portfolio on the unconstrained efficient frontier.</li>
</ol>
<p>
\[\hat {\omega}=(\lambda\Sigma_p)^{-1}\hat {\Pi}\]
</p>
</div>
</div>
</div>

<div id="outline-container-orgheadline17" class="outline-3">
<h3 id="orgheadline17"><span class="section-number-3">1.5</span> Implied confidence framework for the views</h3>
<div class="outline-text-3" id="text-1-5">
<p>
\(\Omega\), which representing the uncertainty of the views, and \(\tau\) are the most abstract mathematical parameters of this model.
</p>

<p>
how to specify a probability density function for each view?
</p>
</div>

<div id="outline-container-orgheadline15" class="outline-4">
<h4 id="orgheadline15"><span class="section-number-4">1.5.1</span> Implied confidence levels</h4>
<div class="outline-text-4" id="text-1-5-1">
<p>
\[\frac{\hat {\omega} - \omega_{mkt}}{\hat {\omega_{100%}} - \omega_{mkt}}\]
</p>
</div>
</div>

<div id="outline-container-orgheadline16" class="outline-4">
<h4 id="orgheadline16"><span class="section-number-4">1.5.2</span> An intuitive approach</h4>
</div>
</div>

<div id="outline-container-orgheadline18" class="outline-3">
<h3 id="orgheadline18"><span class="section-number-3">1.6</span> Select asset classes</h3>
<div class="outline-text-3" id="text-1-6">
<p>
criteria for specifying asset classes are:
</p>
<ul class="org-ul">
<li>Assets within an Asset Class should be homogenous.</li>
<li>Asset Classes should be mutually exclusive.</li>
<li>Asset Classes should be diversifying.</li>
<li>All Asset Classes as a group should make up a significant fraction of all investor's wealth.</li>
<li>The Asset Class should have the capacity to absorb a significant fraction of the investor's wealth.</li>
</ul>


<ul class="org-ul">
<li>Domestic Equity (can be further sub-divided by value vs growth, or large cap vs small cap).</li>
<li>International Equity (can be further divided by developed, emerging, or frontier, or large cap vs small cap, or value vs growth).</li>
<li>Domestic Fixed Income (can be further divided by sovereign vs corporate, nominal vs inflation protected, short vs long term, furher sub-divided by issuer or credit rating).</li>
<li>International Fixed Income (can be further divided by sovereign vs corporate, nominal vs inflation protected, developed vs emerging, or other distinctions.</li>
<li>Real Estate (can be further divided by public vs private, type of real estate holding, loans vs properties, domestic vs international).</li>
<li>Commodities (can be further divided by public vs private, by type, e.g. energy vs crops vs metals).</li>
<li>Private Equity (can be divided by domestic vs international)</li>
<li>Cash or cash equivalents</li>
</ul>
</div>
</div>

<div id="outline-container-orgheadline19" class="outline-3">
<h3 id="orgheadline19"><span class="section-number-3">1.7</span> Deployment on GS:</h3>
</div>


<div id="outline-container-orgheadline20" class="outline-3">
<h3 id="orgheadline20"><span class="section-number-3">1.8</span> Shortfall of BLM</h3>
<div class="outline-text-3" id="text-1-8">
<ul class="org-ul">
<li>éæ­£æ€åˆ†å¸ƒå¸‚åœº</li>
</ul>
<p>
ç”±äº B-L æ¨¡å‹é‡Œå‡è®¾çš„èµ„äº§æ”¶ç›Šéƒ½æ˜¯æœä»æ­£æ€åˆ†å¸ƒï¼Œè¿™å¯¹ç»å¤§å¤šæ•°å¸‚åœºæ¥è¯´å¹¶ä¸ç°å®ï¼Œ Attilio Meucci æå‡ºäº†åœ¨éæ­£æ€åˆ†å¸ƒçš„æ¡ä»¶ä¸‹å¦‚ä½•å»ä½¿ç”¨ B-L æ¨¡å‹ï¼Œå¹¶ä¸”åœ¨å¯¹é£é™©çš„å¤„ç†ä¸­ï¼Œä¸å†é‡‡ç”¨ä¼ ç»ŸB-L æ¨¡å‹é‡Œçš„æ–¹å¼ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸å†ç”¨æ–¹å·®æ¥è¡¨ç¤ºé£é™©ï¼Œæ”¹ç”¨ CVAR ç­‰æ¥æè¿°é£é™©ï¼Œä»¥ä¾¿èƒ½å¤Ÿæ•æ‰åˆ°éå¯¹ç§°å’Œå°¾éƒ¨çš„é£é™©ã€‚
</p>

<ul class="org-ul">
<li>å¤šå› å­æ‰©å±•æ¨¡å‹</li>
</ul>
<p>
åœ¨ä¼ ç»Ÿçš„ B-Læ¨¡å‹ä¸­ï¼ŒæŠ•èµ„è€…ç»™å‡ºçš„ä¸»è§‚è§‚ç‚¹æ˜¯å¯¹èµ„äº§çš„é¢„æœŸæ”¶ç›Šï¼Œè€Œå¾ˆå¤šæ—¶å€™æŠ•èµ„è€…å¯èƒ½æ˜¯ä¸€äº›é—´æ¥çš„è§‚ç‚¹ï¼Œä¾‹å¦‚å¯¹ä¸€äº›æŒ‡æ ‡çš„è§‚ç‚¹ï¼ˆè‚¡æ¯ç‡ã€ EPSã€ ROE ç­‰ï¼‰ï¼Œè¿™äº›å› å­å¯èƒ½é©±åŠ¨è‚¡ä»·æ³¢åŠ¨ã€‚Wing Cheung æå‡ºäº† ABL æ¨¡å‹ï¼ˆAugmented B-L æ¨¡å‹ï¼‰ï¼Œé¦–æ¬¡å°†å› å­æ¨¡å‹èå…¥åˆ°ä¼ ç»Ÿ B-L æ¨¡å‹çš„æ¡†æ¶ä¸­ï¼Œå¤§å¹…åº¦æ‹“å®½äº† B-L æ¨¡å‹çš„é€‚ç”¨é¢ã€‚
</p>

<p>
<a href="../CS/Python/py4fi/Optimization.html">PortfolioOptimizationJupyterProgramming</a>
</p>

<p>
<a href="../CS/Python/py4fi/PortfolioOptimization.html">PortfolioOptimizationReadMe</a>
</p>
</div>
</div>
</div>
</div>
</body>
</html>
